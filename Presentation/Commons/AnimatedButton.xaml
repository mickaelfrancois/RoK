<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Class="Rok.Commons.AnimatedButton"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Rok.Commons"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    x:Name="parent"
    mc:Ignorable="d">

    <Grid>

        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup x:Name="CommonStates">
                <VisualState x:Name="Normal">
                    <Storyboard>
                        <DoubleAnimation Storyboard.TargetName="button"
                                                    Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.ScaleX)"
                                                    To="0.6" Duration="0:0:0.2"/>
                        <DoubleAnimation Storyboard.TargetName="button"
                                                    Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.ScaleY)"
                                                    To="0.6" Duration="0:0:0.2"/>
                    </Storyboard>
                </VisualState>
                <VisualState x:Name="PointerOver">
                    <Storyboard>
                        <DoubleAnimation Storyboard.TargetName="button"
                                                     Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.ScaleX)"
                                                     To="0.8" Duration="0:0:0.2"/>
                        <DoubleAnimation Storyboard.TargetName="button"
                                                     Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.ScaleY)"
                                                     To="0.8" Duration="0:0:0.2"/>
                    </Storyboard>
                </VisualState>
                <VisualState x:Name="Pressed">
                    <Storyboard>
                        <DoubleAnimation Storyboard.TargetName="button"
                                                    Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.ScaleX)"
                                                    To="0.4" Duration="0:0:0.2"/>
                        <DoubleAnimation Storyboard.TargetName="button"
                                                    Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.ScaleY)"
                                                    To="0.4" Duration="0:0:0.2"/>
                    </Storyboard>
                </VisualState>
            </VisualStateGroup>

        </VisualStateManager.VisualStateGroups>

        <Path x:Name="button"
            Data="{Binding ElementName=parent, Path=Icon}"            
            Fill="{Binding ElementName=parent, Path=Color}"
            Stretch="Uniform"
            Width="24" Height="24"            
            RenderTransformOrigin="0.5,0.5">
            <Path.RenderTransform>
                <CompositeTransform ScaleX="0.6" ScaleY="0.6"/>
            </Path.RenderTransform>
        </Path>
    </Grid>
</UserControl>
